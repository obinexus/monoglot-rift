<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 800">
  <!-- Background -->
  <rect width="1000" height="800" fill="#f8f9fa" />
  
  <!-- Title -->
  <text x="500" y="30" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">LibRift Accessibility Subsystem</text>
  
  <!-- AccessibilityManager Class -->
  <rect x="350" y="70" width="300" height="130" fill="#e1f5fe" stroke="#0288d1" stroke-width="2" />
  <line x1="350" y1="100" x2="650" y2="100" stroke="#0288d1" stroke-width="2" />
  <line x1="350" y1="130" x2="650" y2="130" stroke="#0288d1" stroke-width="2" />
  <text x="500" y="90" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">AccessibilityManager</text>
  <text x="360" y="120" font-family="Arial" font-size="12">-enabledFeatures: AegisAccessibilityFeatureFlags</text>
  <text x="360" y="150" font-family="Arial" font-size="12">+initialize(config: AegisAccessibilityConfig): bool</text>
  <text x="360" y="170" font-family="Arial" font-size="12">+enableFeatures(features: AegisAccessibilityFeatureFlags): bool</text>
  <text x="360" y="190" font-family="Arial" font-size="12">+disableFeatures(features: AegisAccessibilityFeatureFlags): bool</text>
  
  <!-- ColorSchemeManager Class -->
  <rect x="50" y="280" width="250" height="120" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" />
  <line x1="50" y1="310" x2="300" y2="310" stroke="#388e3c" stroke-width="2" />
  <line x1="50" y1="340" x2="300" y2="340" stroke="#388e3c" stroke-width="2" />
  <text x="175" y="300" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">ColorSchemeManager</text>
  <text x="60" y="330" font-family="Arial" font-size="12">-schemes: AegisColorSchemeEntry[]</text>
  <text x="60" y="360" font-family="Arial" font-size="12">+setActiveScheme(scheme: AegisColorScheme): bool</text>
  <text x="60" y="380" font-family="Arial" font-size="12">+getColor(role: AegisColorRole): AegisColor</text>
  
  <!-- KeyboardNavigationManager Class -->
  <rect x="350" y="280" width="300" height="120" fill="#fff3e0" stroke="#f57c00" stroke-width="2" />
  <line x1="350" y1="310" x2="650" y2="310" stroke="#f57c00" stroke-width="2" />
  <line x1="350" y1="340" x2="650" y2="340" stroke="#f57c00" stroke-width="2" />
  <text x="500" y="300" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">KeyboardNavigationManager</text>
  <text x="360" y="330" font-family="Arial" font-size="12">-shortcuts: AegisKeyboardShortcutEntry[]</text>
  <text x="360" y="360" font-family="Arial" font-size="12">+registerShortcut(actionId, keyBinding): bool</text>
  <text x="360" y="380" font-family="Arial" font-size="12">+processKeyEvent(event: AegisKeyEvent): bool</text>
  
  <!-- ScreenReaderAdapter Class -->
  <rect x="700" y="280" width="250" height="120" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" />
  <line x1="700" y1="310" x2="950" y2="310" stroke="#7b1fa2" stroke-width="2" />
  <line x1="700" y1="340" x2="950" y2="340" stroke="#7b1fa2" stroke-width="2" />
  <text x="825" y="300" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">ScreenReaderAdapter</text>
  <text x="710" y="330" font-family="Arial" font-size="12">-type: AegisScreenReaderType</text>
  <text x="710" y="360" font-family="Arial" font-size="12">+speak(text: string, priority): bool</text>
  <text x="710" y="380" font-family="Arial" font-size="12">+stopSpeaking(): bool</text>
  
  <!-- UIAdaptationManager Class -->
  <rect x="50" y="450" width="250" height="120" fill="#e0f7fa" stroke="#00acc1" stroke-width="2" />
  <line x1="50" y1="480" x2="300" y2="480" stroke="#00acc1" stroke-width="2" />
  <line x1="50" y1="510" x2="300" y2="510" stroke="#00acc1" stroke-width="2" />
  <text x="175" y="470" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">UIAdaptationManager</text>
  <text x="60" y="500" font-family="Arial" font-size="12">-templates: AegisUITemplateEntry[]</text>
  <text x="60" y="530" font-family="Arial" font-size="12">+applyTemplate(template): bool</text>
  <text x="60" y="550" font-family="Arial" font-size="12">+setProperty(elementId, property, value): bool</text>
  
  <!-- PreferencesManager Class -->
  <rect x="350" y="450" width="250" height="120" fill="#ffebee" stroke="#c62828" stroke-width="2" />
  <line x1="350" y1="480" x2="600" y2="480" stroke="#c62828" stroke-width="2" />
  <line x1="350" y1="510" x2="600" y2="510" stroke="#c62828" stroke-width="2" />
  <text x="475" y="470" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">PreferencesManager</text>
  <text x="360" y="500" font-family="Arial" font-size="12">-entries: AegisPreferenceEntry[]</text>
  <text x="360" y="530" font-family="Arial" font-size="12">+getPreference(key, type): void*</text>
  <text x="360" y="550" font-family="Arial" font-size="12">+setPreference(key, value, type): bool</text>
  
  <!-- RegexAccessibilityBridge Class -->
  <rect x="650" y="450" width="300" height="120" fill="#fff8e1" stroke="#ff8f00" stroke-width="2" />
  <line x1="650" y1="480" x2="950" y2="480" stroke="#ff8f00" stroke-width="2" />
  <line x1="650" y1="510" x2="950" y2="510" stroke="#ff8f00" stroke-width="2" />
  <text x="800" y="470" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">RegexAccessibilityBridge</text>
  <text x="660" y="500" font-family="Arial" font-size="12">-engine: rift_regex_engine*</text>
  <text x="660" y="530" font-family="Arial" font-size="12">+attachToMatcher(matcher: rift_regex_matcher_t*): bool</text>
  <text x="660" y="550" font-family="Arial" font-size="12">+handlePatternMatch(result: rift_regex_match_t*): void</text>
  
  <!-- Visualizer Subcomponents -->
  <rect x="250" y="620" width="500" height="120" fill="#e8eaf6" stroke="#3f51b5" stroke-width="2" />
  <line x1="250" y1="650" x2="750" y2="650" stroke="#3f51b5" stroke-width="2" />
  <line x1="250" y1="680" x2="750" y2="680" stroke="#3f51b5" stroke-width="2" />
  <text x="500" y="640" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">RegexPatternVisualizer</text>
  <text x="260" y="670" font-family="Arial" font-size="12">-graph: AegisGraph*</text>
  <text x="260" y="700" font-family="Arial" font-size="12">+createAutomatonGraph(pattern: rift_regex_pattern_t*): bool</text>
  <text x="260" y="720" font-family="Arial" font-size="12">+renderToHtml(renderer: AegisRenderer*): char*</text>

  <!-- Connections -->
  <!-- AccessibilityManager to ColorSchemeManager -->
  <line x1="400" y1="200" x2="175" y2="280" stroke="#666" stroke-width="1.5" />
  <polygon points="175,270 170,280 180,280" fill="#666" />
  
  <!-- AccessibilityManager to KeyboardNavigationManager -->
  <line x1="500" y1="200" x2="500" y2="280" stroke="#666" stroke-width="1.5" />
  <polygon points="500,270 495,280 505,280" fill="#666" />
  
  <!-- AccessibilityManager to ScreenReaderAdapter -->
  <line x1="600" y1="200" x2="825" y2="280" stroke="#666" stroke-width="1.5" />
  <polygon points="825,270 820,280 830,280" fill="#666" />
  
  <!-- AccessibilityManager to UIAdaptationManager -->
  <line x1="400" y1="200" x2="175" y2="450" stroke="#666" stroke-width="1.5" />
  <polygon points="175,440 170,450 180,450" fill="#666" />
  
  <!-- AccessibilityManager to PreferencesManager -->
  <line x1="500" y1="200" x2="475" y2="450" stroke="#666" stroke-width="1.5" />
  <polygon points="475,440 470,450 480,450" fill="#666" />
  
  <!-- AccessibilityManager to RegexAccessibilityBridge -->
  <line x1="600" y1="200" x2="800" y2="450" stroke="#666" stroke-width="1.5" />
  <polygon points="800,440 795,450 805,450" fill="#666" />
  
  <!-- RegexAccessibilityBridge to RegexPatternVisualizer -->
  <line x1="800" y1="570" x2="500" y2="620" stroke="#666" stroke-width="1.5" />
  <polygon points="500,610 495,620 505,620" fill="#666" />
  
  <!-- Legend -->
  <rect x="20" y="20" width="180" height="110" fill="white" stroke="#666" stroke-width="1" />
  <text x="110" y="40" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Legend</text>
  
  <rect x="40" y="55" width="20" height="10" fill="#e1f5fe" stroke="#0288d1" stroke-width="1" />
  <text x="70" y="65" font-family="Arial" font-size="12" text-anchor="start">Core Components</text>
  
  <rect x="40" y="75" width="20" height="10" fill="#e8f5e9" stroke="#388e3c" stroke-width="1" />
  <text x="70" y="85" font-family="Arial" font-size="12" text-anchor="start">UI Components</text>
  
  <rect x="40" y="95" width="20" height="10" fill="#fff3e0" stroke="#f57c00" stroke-width="1" />
  <text x="70" y="105" font-family="Arial" font-size="12" text-anchor="start">Input Components</text>
  
  <rect x="40" y="115" width="20" height="10" fill="#fff8e1" stroke="#ff8f00" stroke-width="1" />
  <text x="70" y="125" font-family="Arial" font-size="12" text-anchor="start">RegEx Integration</text>
</svg>